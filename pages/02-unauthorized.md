# Page AccÃ¨s Non AutorisÃ©

> **Route** : `/unauthorized`  
> **RÃ´le(s)** : Public (page d'erreur)  
> **Fichier source** : `src/app/unauthorized/page.tsx`

---

## ğŸ“¸ AperÃ§u Visuel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚                          â”‚                 â”‚                                â”‚
â”‚                          â”‚   ğŸ›¡ï¸âŒ          â”‚  (cercle rouge clair)          â”‚
â”‚                          â”‚   (ShieldX)     â”‚                                â”‚
â”‚                          â”‚                 â”‚                                â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                             â”‚
â”‚                        AccÃ¨s non autorisÃ©                                   â”‚
â”‚                        (text-3xl, font-bold)                                â”‚
â”‚                                                                             â”‚
â”‚              Vous n'avez pas les droits nÃ©cessaires pour                    â”‚
â”‚              accÃ©der Ã  cette page. Veuillez contacter un                    â”‚
â”‚              administrateur si vous pensez qu'il s'agit                     â”‚
â”‚              d'une erreur.                                                  â”‚
â”‚                                                                             â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                   â”‚  Retour  â”‚    â”‚ ğŸ  Mon tableau de   â”‚                   â”‚
â”‚                   â”‚ (outline)â”‚    â”‚      bord           â”‚                   â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                             â”‚
â”‚                          (fond gris clair : bg-gray-50)                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Variante : Non connectÃ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚                          [MÃªme icÃ´ne et texte]                              â”‚
â”‚                                                                             â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                   â”‚  Retour  â”‚    â”‚  Se connecter    â”‚                      â”‚
â”‚                   â”‚ (outline)â”‚    â”‚                  â”‚                      â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### LÃ©gende des Ã©lÃ©ments

| Zone | Description |
|------|-------------|
| IcÃ´ne | ShieldX de lucide-react dans cercle rouge |
| Titre | "AccÃ¨s non autorisÃ©" |
| Message | Explication + suggestion de contacter admin |
| Bouton Retour | `router.back()` |
| Bouton Principal | DÃ©pend de la session (connectÃ© ou non) |

---

## ğŸ§© Composants UtilisÃ©s

| Composant | Chemin | Description |
|-----------|--------|-------------|
| `Button` | `@/components/ui/button` | Boutons d'action |
| `ShieldX` | `lucide-react` | IcÃ´ne bouclier avec X |
| `Home` | `lucide-react` | IcÃ´ne maison |

---

## ğŸ“¦ DÃ©pendances

### Packages NPM
```json
{
  "next": "15.x",
  "react": "19.x",
  "next-auth": "4.x",
  "lucide-react": "latest"
}
```

### Composants shadcn/ui
- [x] `Button`

### IcÃ´nes lucide-react
- [x] `ShieldX`
- [x] `Home`

### Hooks
- [x] `useRouter` (next/navigation)
- [x] `useSession` (next-auth/react)

---

## ğŸ”— API Endpoints

Aucun appel API direct. Utilise la session NextAuth via `useSession()`.

---

## ğŸ’¾ Types & Interfaces

### Session utilisateur
```typescript
interface Session {
  user?: {
    role?: 'ADMIN' | 'TEACHER' | 'STUDENT';
    // ... autres champs
  };
}
```

### Logique de redirection
```typescript
const getDashboardUrl = () => {
  const role = session?.user?.role;
  if (role === 'ADMIN') return '/admin';
  if (role === 'TEACHER') return '/teacher';
  if (role === 'STUDENT') return '/student';
  return '/login';
};
```

---

## ğŸ” Authentification & Autorisations

| Aspect | DÃ©tail |
|--------|--------|
| **Session** | Optionnelle (vÃ©rifie si connectÃ©) |
| **RÃ´les autorisÃ©s** | Tous (page d'erreur publique) |
| **Comportement** | Adapte les boutons selon la session |

### ScÃ©narios d'affichage

| Condition | Bouton Principal |
|-----------|------------------|
| `session` existe | "Mon tableau de bord" â†’ `/{role}` |
| Pas de session | "Se connecter" â†’ `/login` |

---

## ğŸ¨ Ã‰tats de l'Interface

### Ã‰tat avec session
```
Boutons : [Retour] [ğŸ  Mon tableau de bord]
```

### Ã‰tat sans session
```
Boutons : [Retour] [Se connecter]
```

---

## ğŸ“± Responsive Design

| Breakpoint | Comportement |
|------------|--------------|
| `mobile` < 768px | Boutons empilÃ©s ou gap rÃ©duit |
| `tablet` 768px+ | Boutons cÃ´te Ã  cÃ´te |
| `desktop` 1024px+ | Idem tablet |

### Classes Tailwind clÃ©s
```css
/* Page */
.min-h-screen .flex .items-center .justify-center .bg-gray-50

/* Contenu */
.text-center .space-y-6 .p-8

/* IcÃ´ne */
.rounded-full .bg-red-100 .p-6
.h-16 .w-16 .text-red-600

/* Boutons */
.flex .gap-4 .justify-center
```

---

## ğŸ“‹ Checklist de RecrÃ©ation

### Structure
- [x] Route Next.js (`app/unauthorized/page.tsx`)
- [x] Directive `'use client'` (hooks React)
- [ ] MÃ©tadonnÃ©es SEO

### UI
- [x] Fond gris clair centrÃ©
- [x] IcÃ´ne ShieldX dans cercle rouge
- [x] Titre "AccÃ¨s non autorisÃ©"
- [x] Message explicatif
- [x] Bouton "Retour" (outline)
- [x] Bouton principal conditionnel

### FonctionnalitÃ©s
- [x] VÃ©rification session (useSession)
- [x] Navigation retour (router.back)
- [x] Redirection vers dashboard selon rÃ´le
- [x] Fallback vers login si pas de session

### QualitÃ©
- [x] Responsive
- [x] AccessibilitÃ© (texte lisible)
- [ ] Tests unitaires

---

## ğŸ”— Navigation

| Direction | Page | Route |
|-----------|------|-------|
| â† Retour | Page prÃ©cÃ©dente | `router.back()` |
| â†’ Dashboard | Selon rÃ´le | `/admin`, `/teacher`, `/student` |
| â†’ Login | Si non connectÃ© | `/login` |

---

## ğŸ“ Notes de DÃ©veloppement

> **Quand cette page s'affiche ?**  
> Le middleware redirige vers `/unauthorized` quand un utilisateur tente d'accÃ©der Ã  une route rÃ©servÃ©e Ã  un autre rÃ´le (ex: Ã©lÃ¨ve tentant d'accÃ©der Ã  `/admin`).

> **UX** : Le bouton "Retour" permet de revenir Ã  la page prÃ©cÃ©dente sans perdre l'historique de navigation.

> **SÃ©curitÃ©** : Cette page ne divulgue aucune information sensible, juste que l'accÃ¨s est refusÃ©.

---

*Documentation gÃ©nÃ©rÃ©e par rÃ©tro-ingÃ©nierie de BlaizBot-V1*  
*Date : 15 janvier 2026*
