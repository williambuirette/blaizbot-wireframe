# Liste des Utilisateurs

> **Chemin de navigation** : Login â†’ Dashboard Admin â†’ Sidebar â†’ **Utilisateurs**  
> **Route** : `/admin/users`  
> **RÃ´le** : ADMIN  
> **Composant source** : `src/app/(dashboard)/admin/users/page.tsx`

---

## ğŸ“ Parcours Utilisateur

```
1. Pages publiques
   â””â”€â”€ 01-login.md

2. Authentification rÃ©ussie (Admin)
   â””â”€â”€ admin/00-dashboard.md

3. Sidebar Navigation
   â”œâ”€â”€ Dashboard
   â”œâ”€â”€ Utilisateurs â† VOUS ÃŠTES ICI
   â”œâ”€â”€ Classes
   â””â”€â”€ MatiÃ¨res
```

---

## ğŸ“¸ AperÃ§u Visuel - Liste des Utilisateurs

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard                                    ğŸ” Rechercher...         â”‚
â”‚                                                                       â”‚
â”‚ Gestion des utilisateurs                              [+ Ajouter]    â”‚
â”‚ 41 utilisateurs                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Nom              Email                 RÃ´le    Classes/    ... â”‚  â”‚
â”‚ â”‚                                                 MatiÃ¨res         â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ Margot PERROUD   margot.perroud@...   Ã‰lÃ¨ve   1A           ... â”‚  â”‚
â”‚ â”‚                                       (vert)                    â”‚  â”‚
â”‚ â”‚ Baptiste CURTY   baptiste.curty@...   Ã‰lÃ¨ve   1A           ... â”‚  â”‚
â”‚ â”‚ Eva SANDOZ       eva.sandoz@...       Ã‰lÃ¨ve   1A           ... â”‚  â”‚
â”‚ â”‚ Julien DUBOIS    julien.dubois@...    Ã‰lÃ¨ve   11H-A        ... â”‚  â”‚
â”‚ â”‚ Louise VAUCHER   louise.vaucher@...   Ã‰lÃ¨ve   11H-A        ... â”‚  â”‚
â”‚ â”‚ Louis MERCIER    louis.mercier@...    Ã‰lÃ¨ve   11H-A        ... â”‚  â”‚
â”‚ â”‚ Elisa CARDINAUX  elisa.cardinaux@...  Ã‰lÃ¨ve   10H-B        ... â”‚  â”‚
â”‚ â”‚ Vincent CHAPPUIS vincent.chappuis@... Ã‰lÃ¨ve   10H-B        ... â”‚  â”‚
â”‚ â”‚ Marine PYTHON    marine.python@...    Ã‰lÃ¨ve   10H-B        ... â”‚  â”‚
â”‚ â”‚ Adrien ZAUGG     adrien.zaugg@...     Ã‰lÃ¨ve   10H-B        ... â”‚  â”‚
â”‚ â”‚ Sarah GAILLARD   sarah.gaillard@...   Ã‰lÃ¨ve   10H-B        ... â”‚  â”‚
â”‚ â”‚ Hugo ROBERT      hugo.robert@...      Ã‰lÃ¨ve   10H-B        ... â”‚  â”‚
â”‚ â”‚ Romain MERMOUD   romain.mermoud@...   Ã‰lÃ¨ve   10H-A        ... â”‚  â”‚
â”‚ â”‚ ...                                                             â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚                    [â† PrÃ©cÃ©dent] Page 1/3 [Suivant â†’]                â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Composants UtilisÃ©s

| Composant | Chemin | Description |
|-----------|--------|-------------|
| `DataTable` | `@/components/ui/data-table` | Tableau avec tri et pagination |
| `Input` | `@/components/ui/input` | Barre de recherche |
| `Button` | `@/components/ui/button` | Bouton "Ajouter" |
| `Badge` | `@/components/ui/badge` | Badge de rÃ´le (Ã‰lÃ¨ve, Professeur, Admin) |
| `DropdownMenu` | `@/components/ui/dropdown-menu` | Menu actions (...) |

---

## ğŸ“Š Structure du Tableau

### Colonnes

| Colonne | Type | Description | Tri |
|---------|------|-------------|-----|
| **Nom** | Texte | Nom complet (NOM PrÃ©nom) | âœ… AlphabÃ©tique |
| **Email** | Email | Adresse email | âœ… AlphabÃ©tique |
| **RÃ´le** | Badge | STUDENT (vert), TEACHER (bleu), ADMIN (violet) | âœ… Par rÃ´le |
| **Classes/MatiÃ¨res** | Texte | Liste des classes (Ã©lÃ¨ves) ou matiÃ¨res (profs) | âŒ |
| **Actions** | Menu | Menu dÃ©roulant (...) | âŒ |

### Actions disponibles (menu ...)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœï¸  Ã‰diter              â”‚
â”‚ ğŸ—‘ï¸  Supprimer           â”‚
â”‚ ğŸ”„ RÃ©initialiser MDP    â”‚
â”‚ ğŸ“§ Renvoyer email       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— API Endpoints

| MÃ©thode | Endpoint | Description | Params |
|---------|----------|-------------|--------|
| `GET` | `/api/admin/users` | Liste tous les utilisateurs | `?page=1&limit=20&search=...&role=...` |
| `DELETE` | `/api/admin/users/:id` | Supprimer un utilisateur | - |
| `POST` | `/api/admin/users/:id/reset-password` | RÃ©initialiser le mot de passe | - |
| `POST` | `/api/admin/users/:id/resend-email` | Renvoyer l'email d'activation | - |

---

## ğŸ’¾ Types & Interfaces

```typescript
interface User {
  id: string;
  firstName: string;
  lastName: string;
  email: string;
  role: 'STUDENT' | 'TEACHER' | 'ADMIN';
  classes?: string[];      // Pour les Ã©lÃ¨ves
  subjects?: string[];     // Pour les professeurs
  createdAt: Date;
  lastLogin?: Date;
}

interface UsersListResponse {
  success: boolean;
  data?: {
    users: User[];
    total: number;
    page: number;
    totalPages: number;
  };
  error?: string;
}
```

---

## ğŸ” FonctionnalitÃ©s

### Barre de Recherche
- Recherche en temps rÃ©el (debounce 300ms)
- Filtre sur : Nom, Email, Classes, MatiÃ¨res
- IcÃ´ne ğŸ”

### Filtres
| Filtre | Options |
|--------|---------|
| **RÃ´le** | Tous, Ã‰lÃ¨ve, Professeur, Admin |
| **Classe** | Liste dÃ©roulante des classes |
| **MatiÃ¨re** | Liste dÃ©roulante des matiÃ¨res |

### Tri
- Clic sur les en-tÃªtes de colonne
- Indicateurs â–² (ascendant) â–¼ (descendant)
- Par dÃ©faut : Nom Aâ†’Z

### Pagination
- 20 utilisateurs par page
- Navigation : [â† PrÃ©cÃ©dent] Page X/Y [Suivant â†’]
- Affichage total : "41 utilisateurs"

---

## ğŸ¯ Actions Utilisateur

### Bouton "Ajouter"
- Redirige vers [create.md](create.md)
- Ouvre le formulaire de crÃ©ation

### Menu Actions (...)

| Action | Comportement |
|--------|--------------|
| **Ã‰diter** | Redirige vers [edit.md](edit.md?id=...) |
| **Supprimer** | Modale de confirmation â†’ suppression dÃ©finitive |
| **RÃ©initialiser MDP** | GÃ©nÃ¨re un nouveau MDP temporaire + email |
| **Renvoyer email** | Renvoie l'email d'activation |

---

## âš ï¸ Confirmations & Alertes

### Suppression d'un utilisateur
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Supprimer cet utilisateur ?          â”‚
â”‚                                          â”‚
â”‚  Nom : Baptiste CURTY                    â”‚
â”‚  Email : baptiste.curty@blaizbot.edu     â”‚
â”‚                                          â”‚
â”‚  Cette action est irrÃ©versible.          â”‚
â”‚  Toutes les donnÃ©es associÃ©es seront    â”‚
â”‚  perdues (devoirs, notes, etc.).         â”‚
â”‚                                          â”‚
â”‚       [Annuler]    [Supprimer]           â”‚
â”‚                    (rouge)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RÃ©initialisation MDP
```
Toast : "Mot de passe rÃ©initialisÃ©. Email envoyÃ© Ã  baptiste.curty@blaizbot.edu"
```

---

## ğŸ”— Navigation

| Action | Destination |
|--------|-------------|
| + Ajouter | [create.md](create.md) |
| Ã‰diter (menu ...) | [edit.md](edit.md) |
| â† Sidebar Dashboard | [00-dashboard.md](../00-dashboard.md) |
| Sidebar Classes | [../classes/liste.md](../classes/liste.md) |
| Sidebar MatiÃ¨res | [../subjects/liste.md](../subjects/liste.md) |

---

## ğŸ“ Notes

> **Gestion des rÃ´les** :
> - **STUDENT** : Badge vert, affiche les classes (ex: "1A", "11H-A")
> - **TEACHER** : Badge bleu, affiche les matiÃ¨res enseignÃ©es
> - **ADMIN** : Badge violet, pas de classes/matiÃ¨res

> **Protection** : 
> - Impossible de supprimer son propre compte
> - Confirmation obligatoire avant suppression
> - Logs d'audit pour toutes les actions

> **Performance** :
> - Pagination server-side (20 par page)
> - Recherche debounced (300ms)
> - Cache des rÃ©sultats

---

**Navigation** :
- â† [Dashboard Admin](../00-dashboard.md)
- â†’ [CrÃ©er un utilisateur](create.md)
- â†’ [Ã‰diter un utilisateur](edit.md)

*Date : 13 dÃ©cembre 2025*

