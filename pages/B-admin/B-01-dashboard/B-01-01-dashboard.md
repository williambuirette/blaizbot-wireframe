# Dashboard Admin

> **Route** : `/admin`  
> **RÃ´le(s)** : ADMIN  
> **Fichier source** : `src/app/(dashboard)/admin/page.tsx`

---

## ğŸ“¸ AperÃ§u Visuel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– BlaizBot â”‚ Dashboard                    [ğŸ” Rechercher...]  ğŸ””  [AS] â–¼ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                                              â”‚
â”‚  ğŸ  Dashboardâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  (actif/bleu)â”‚  â”‚  Administration ğŸ›¡ï¸                                      â”‚ â”‚
â”‚              â”‚  â”‚  Vue d'ensemble de la plateforme                        â”‚ â”‚
â”‚  ğŸ‘¥ Utilisat.â”‚  â”‚  (gradient violet â†’ bleu, texte blanc, coins arrondis)  â”‚ â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  ğŸ“ Classes  â”‚                                                              â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  ğŸ“š MatiÃ¨res â”‚  â”‚  ğŸ‘¥          â”‚ â”‚  ğŸ“          â”‚ â”‚  ğŸ“–          â”‚        â”‚
â”‚              â”‚  â”‚  41          â”‚ â”‚  8           â”‚ â”‚  7           â”‚        â”‚
â”‚              â”‚  â”‚  Utilisateursâ”‚ â”‚  Classes     â”‚ â”‚  MatiÃ¨res    â”‚        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚  (icÃ´ne bleu)â”‚ â”‚  (icÃ´ne vert)â”‚ â”‚  (icÃ´ne violt)        â”‚
â”‚  BlaizBot v1 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚              â”‚                                                              â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚              â”‚  â”‚  ğŸ“„          â”‚                                            â”‚
â”‚              â”‚  â”‚  1           â”‚                                            â”‚
â”‚              â”‚  â”‚  Cours       â”‚                                            â”‚
â”‚              â”‚  â”‚  (icÃ´ne orange)                                           â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚              â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Menu Utilisateur (Dropdown)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [AS] Admin SYSTÃˆME           â–¼    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Admin SYSTÃˆME                      â”‚
â”‚  admin@blaizbot.edu                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ‘¤ Mon profil                      â”‚
â”‚  âš™ï¸  ParamÃ¨tres                     â”‚
â”‚  ğŸ¤– Configuration IA                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸšª DÃ©connexion (texte rouge)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### LÃ©gende des Ã©lÃ©ments

| Zone | Description |
|------|-------------|
| Sidebar | Fond sombre (slate-900), navigation fixe |
| Header | Blanc avec barre de recherche centrale |
| BanniÃ¨re | Gradient violet â†’ bleu avec emoji bouclier |
| Stats Cards | 4 cartes cliquables avec icÃ´nes colorÃ©es |
| Avatar | Initiales "AS" dans cercle, dropdown au clic |

---

## ğŸ§© Composants UtilisÃ©s

| Composant | Chemin | Description |
|-----------|--------|-------------|
| `DashboardShell` | `@/components/layout/DashboardShell` | Layout principal |
| `Sidebar` | `@/components/layout/Sidebar` | Navigation latÃ©rale |
| `Header` | `@/components/layout/Header` | Barre supÃ©rieure |
| `Card` | `@/components/ui/card` | Cartes statistiques |
| `Input` | `@/components/ui/input` | Barre de recherche |
| `DropdownMenu` | `@/components/ui/dropdown-menu` | Menu utilisateur |
| `Avatar` | `@/components/ui/avatar` | Avatar avec initiales |
| `AvatarFallback` | `@/components/ui/avatar` | Affichage initiales |

---

## ğŸ“¦ DÃ©pendances

### Packages NPM
```json
{
  "next": "15.x",
  "react": "19.x",
  "@prisma/client": "latest",
  "next-auth": "4.x",
  "lucide-react": "latest"
}
```

### Composants shadcn/ui
- [x] `Card` (CardContent)
- [x] `Input`
- [x] `DropdownMenu` (DropdownMenuTrigger, DropdownMenuContent, etc.)
- [x] `Avatar` (AvatarFallback)

### IcÃ´nes lucide-react
- [x] `Home` (Dashboard)
- [x] `Users` (Utilisateurs + carte stat)
- [x] `School` (Classes + carte stat)
- [x] `BookMarked` (MatiÃ¨res + carte stat)
- [x] `BookOpen` (Cours + carte stat)
- [x] `Search` (Recherche)
- [x] `User` (Mon profil)
- [x] `Settings` (ParamÃ¨tres)
- [x] `Bot` (Configuration IA)
- [x] `LogOut` (DÃ©connexion)

---

## ğŸ”— API Endpoints

| MÃ©thode | Endpoint | Description |
|---------|----------|-------------|
| - | Server Component | DonnÃ©es chargÃ©es cÃ´tÃ© serveur via Prisma |

### RequÃªtes Prisma (estimation)
```typescript
// Compter les utilisateurs
prisma.user.count()

// Compter les classes
prisma.class.count()

// Compter les matiÃ¨res
prisma.subject.count()

// Compter les cours
prisma.course.count()
```

---

## ğŸ’¾ Types & Interfaces

### DonnÃ©es du dashboard
```typescript
interface AdminDashboardData {
  stats: {
    totalUsers: number;
    totalClasses: number;
    totalSubjects: number;
    totalCourses: number;
  };
}
```

### Navigation Sidebar (Admin)
```typescript
const adminNavItems = [
  { label: 'Dashboard', href: '/admin', icon: Home },
  { label: 'Utilisateurs', href: '/admin/users', icon: Users },
  { label: 'Classes', href: '/admin/classes', icon: School },
  { label: 'MatiÃ¨res', href: '/admin/subjects', icon: BookMarked },
];
```

---

## ğŸ” Authentification & Autorisations

| Aspect | DÃ©tail |
|--------|--------|
| **Session** | `auth()` cÃ´tÃ© serveur |
| **RÃ´le requis** | `ADMIN` uniquement |
| **Middleware** | VÃ©rifie le rÃ´le dans `middleware.ts` |
| **Redirection** | `/unauthorized` si non-admin |

### Menu utilisateur - Options admin
- **Mon profil** : Modale `ProfileModal`
- **ParamÃ¨tres** : Modale `SettingsModal`
- **Configuration IA** : Modale `AISettingsModal` (ADMIN uniquement)
- **DÃ©connexion** : `signOut({ callbackUrl: '/login' })`

---

## ğŸ¨ Ã‰tats de l'Interface

### Ã‰tat normal
Affichage complet avec 4 statistiques.

### Ã‰tat de chargement
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â³ Chargement des statistiques...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Responsive Design

| Breakpoint | Comportement |
|------------|--------------|
| `mobile` < 1024px | Sidebar masquÃ©e, bouton menu burger dans header |
| `desktop` â‰¥ 1024px | Sidebar fixe visible (lg:ml-64) |

### Classes Tailwind clÃ©s
```css
/* Sidebar */
.w-64 .h-screen .bg-slate-900 .fixed .left-0 .top-0

/* BanniÃ¨re gradient */
.bg-gradient-to-r .from-purple-500 .to-blue-600 .text-white

/* Cartes stats */
.grid .gap-4 .md:grid-cols-2 .lg:grid-cols-4
```

---

## ğŸ“‹ Checklist de RecrÃ©ation

### Structure
- [x] Route Next.js (`app/(dashboard)/admin/page.tsx`)
- [x] Server Component async
- [x] Layout parent `(dashboard)` appliquÃ©

### UI
- [x] Sidebar avec navigation admin (4 items)
- [x] Header avec recherche + notifications + avatar
- [x] BanniÃ¨re gradient violet â†’ bleu
- [x] 4 cartes statistiques cliquables
- [x] Menu dropdown utilisateur

### FonctionnalitÃ©s
- [x] Chargement donnÃ©es Prisma (counts)
- [x] Navigation vers gestion (users, classes, subjects)
- [x] Menu profil avec options admin
- [x] Configuration IA (admin only)
- [x] DÃ©connexion

### QualitÃ©
- [x] Responsive (sidebar toggle mobile)
- [x] AccessibilitÃ© (labels, aria)
- [ ] Tests unitaires

---

## ğŸ”— Navigation

| Direction | Page | Route |
|-----------|------|-------|
| â†’ Utilisateurs | Gestion users | `/admin/users` |
| â†’ Classes | Gestion classes | `/admin/classes` |
| â†’ MatiÃ¨res | Gestion matiÃ¨res | `/admin/subjects` |

---

## ğŸ“ Notes de DÃ©veloppement

> **RÃ´le ADMIN** : Seul rÃ´le avec accÃ¨s Ã  la configuration IA globale.

> **Statistiques** : Les counts Prisma sont simples mais pourraient Ãªtre optimisÃ©s avec une vue SQL si le volume augmente.

> **Menu dropdown** : Le composant Header gÃ¨re l'affichage conditionnel de "Configuration IA" selon le rÃ´le.

> **Emoji bouclier** : ReprÃ©sente le rÃ´le admin/sÃ©curitÃ© de la plateforme.

---

*Date : 13 dÃ©cembre 2025*

