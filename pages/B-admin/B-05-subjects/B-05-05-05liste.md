# Liste des MatiÃ¨res

> **Chemin de navigation** : Login â†’ Dashboard Admin â†’ Sidebar â†’ **MatiÃ¨res**  
> **Route** : `/admin/subjects`  
> **RÃ´le** : ADMIN  
> **Composant source** : `src/app/(dashboard)/admin/subjects/page.tsx`

---

## ğŸ“ Parcours Utilisateur

```
1. Pages publiques
   â””â”€â”€ 01-login.md

2. Authentification rÃ©ussie (Admin)
   â””â”€â”€ admin/00-dashboard.md

3. Sidebar Navigation
   â”œâ”€â”€ Dashboard
   â”œâ”€â”€ Utilisateurs
   â”œâ”€â”€ Classes
   â””â”€â”€ MatiÃ¨res â† VOUS ÃŠTES ICI
```

---

## ğŸ“¸ AperÃ§u Visuel - Liste des MatiÃ¨res

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard                                    ğŸ” Rechercher...         â”‚
â”‚                                                                       â”‚
â”‚ Gestion des matiÃ¨res                                     [+ Ajouter] â”‚
â”‚ 7 matiÃ¨res                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ MatiÃ¨re                   Cours    Professeurs       Actions   â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ ğŸ”´ Anglais                ğŸ“š 0     ğŸ‘¥ 1              ...       â”‚  â”‚
â”‚ â”‚ ğŸ”´ FranÃ§ais               ğŸ“š 0     ğŸ‘¥ 1              ...       â”‚  â”‚
â”‚ â”‚ âš« Histoire-GÃ©ographie    ğŸ“š 0     ğŸ‘¥ 1              ...       â”‚  â”‚
â”‚ â”‚ ğŸ”µ MathÃ©matiques          ğŸ“š 0     ğŸ‘¥ 1              ...       â”‚  â”‚
â”‚ â”‚ âš« Physique-Chimie        ğŸ“š 0     ğŸ‘¥ 0              ...       â”‚  â”‚
â”‚ â”‚ ğŸŸ¢ SVT                    ğŸ“š 1     ğŸ‘¥ 1              ...       â”‚  â”‚
â”‚ â”‚ âš« math                   ğŸ“š 0     ğŸ‘¥ 0              ...       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Composants UtilisÃ©s

| Composant | Chemin | Description |
|-----------|--------|-------------|
| `DataTable` | `@/components/ui/data-table` | Tableau avec tri |
| `Input` | `@/components/ui/input` | Barre de recherche |
| `Button` | `@/components/ui/button` | Bouton "Ajouter" |
| `Badge` | `@/components/ui/badge` | Indicateur de couleur |
| `DropdownMenu` | `@/components/ui/dropdown-menu` | Menu actions (...) |

---

## ğŸ“Š Structure du Tableau

### Colonnes

| Colonne | Type | Description | Tri |
|---------|------|-------------|-----|
| **MatiÃ¨re** | Texte + Couleur | Nom de la matiÃ¨re avec pastille de couleur | âœ… AlphabÃ©tique |
| **Cours** | Badge | Nombre de cours crÃ©Ã©s avec icÃ´ne ğŸ“š | âœ… NumÃ©rique |
| **Professeurs** | Badge | Nombre de professeurs assignÃ©s avec icÃ´ne ğŸ‘¥ | âœ… NumÃ©rique |
| **Actions** | Menu | Menu dÃ©roulant (...) | âŒ |

### Couleurs des matiÃ¨res

| Couleur | Exemples | Code hex |
|---------|----------|----------|
| ğŸ”´ Rose/Rouge | Anglais, FranÃ§ais | #FF1744, #E91E63 |
| ğŸ”µ Bleu | MathÃ©matiques | #2196F3 |
| ğŸŸ¢ Vert | SVT, Biologie | #4CAF50 |
| âš« Gris | Histoire-GÃ©ographie, Physique-Chimie, math | #9E9E9E |
| ğŸŸ¡ Jaune | - | #FFC107 |
| ğŸŸ£ Violet | - | #9C27B0 |

> Les couleurs sont assignÃ©es lors de la crÃ©ation et peuvent Ãªtre modifiÃ©es

### Actions disponibles (menu ...)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘ï¸  Voir dÃ©tails        â”‚
â”‚ âœï¸  Ã‰diter              â”‚
â”‚ ğŸ—‘ï¸  Supprimer           â”‚
â”‚ ğŸ‘¥ GÃ©rer les profs      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— API Endpoints

| MÃ©thode | Endpoint | Description | Params |
|---------|----------|-------------|--------|
| `GET` | `/api/admin/subjects` | Liste toutes les matiÃ¨res | `?search=...` |
| `POST` | `/api/admin/subjects` | CrÃ©er une matiÃ¨re | `{ name, color, description }` |
| `GET` | `/api/admin/subjects/:id` | DÃ©tails d'une matiÃ¨re | - |
| `PATCH` | `/api/admin/subjects/:id` | Modifier une matiÃ¨re | `{ name, color, description }` |
| `DELETE` | `/api/admin/subjects/:id` | Supprimer une matiÃ¨re | - |
| `GET` | `/api/admin/subjects/:id/teachers` | Liste des professeurs de la matiÃ¨re | - |

---

## ğŸ’¾ Types & Interfaces

```typescript
interface Subject {
  id: string;
  name: string;              // Ex: "MathÃ©matiques", "FranÃ§ais"
  color: string;             // Code hex: "#2196F3"
  description?: string;      // Description optionnelle
  courseCount: number;       // Nombre de cours
  teacherCount: number;      // Nombre de professeurs
  teachers?: Teacher[];      // Liste des professeurs (si dÃ©tails)
  createdAt: Date;
  updatedAt: Date;
}

interface SubjectsListResponse {
  success: boolean;
  data?: {
    subjects: Subject[];
    total: number;
  };
  error?: string;
}
```

---

## ğŸ” FonctionnalitÃ©s

### Barre de Recherche
- Recherche en temps rÃ©el (debounce 300ms)
- Filtre sur : Nom de la matiÃ¨re
- IcÃ´ne ğŸ”

### Tri
- Clic sur les en-tÃªtes de colonne
- Par dÃ©faut : Nom Aâ†’Z
- Tri par nombre de cours/professeurs : dÃ©croissant

### Affichage du compteur
- Total : "7 matiÃ¨res"
- Mise Ã  jour en temps rÃ©el

---

## ğŸ¯ Actions Utilisateur

### Bouton "Ajouter"
- Ouvre une modale de crÃ©ation
- Champs : Nom, Couleur (picker), Description (optionnel)

### Menu Actions (...)

| Action | Comportement |
|--------|--------------|
| **Voir dÃ©tails** | Affiche modale avec liste des cours, professeurs, statistiques |
| **Ã‰diter** | Modale d'Ã©dition (nom, couleur, description) |
| **Supprimer** | Modale de confirmation â†’ suppression |
| **GÃ©rer les profs** | Interface d'ajout/retrait de professeurs |

---

## âš ï¸ Confirmations & Alertes

### Suppression d'une matiÃ¨re

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Supprimer cette matiÃ¨re ?            â”‚
â”‚                                          â”‚
â”‚  Nom : Physique-Chimie                   â”‚
â”‚  Cours : 0                               â”‚
â”‚  Professeurs : 0                         â”‚
â”‚                                          â”‚
â”‚  Cette action est irrÃ©versible.          â”‚
â”‚                                          â”‚
â”‚       [Annuler]    [Supprimer]           â”‚
â”‚                    (rouge)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Si matiÃ¨re contient des cours

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Impossible de supprimer              â”‚
â”‚                                          â”‚
â”‚  La matiÃ¨re "SVT" contient 1 cours.      â”‚
â”‚                                          â”‚
â”‚  Veuillez d'abord supprimer les cours    â”‚
â”‚  associÃ©s.                               â”‚
â”‚                                          â”‚
â”‚                 [OK]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ï¿½ Navigation

| Action | Destination |
|--------|-------------|
| + Ajouter | [create.md](create.md) |
| Ã‰diter (menu ...) | [edit.md](edit.md) |
| â† Sidebar Dashboard | [00-dashboard.md](../00-dashboard.md) |
| Sidebar Utilisateurs | [../users/liste.md](../users/liste.md) |
| Sidebar Classes | [../classes/liste.md](../classes/liste.md) |

---

## ğŸ“ Notes

> **Couleurs des matiÃ¨res** :
> - UtilisÃ©es pour diffÃ©rencier visuellement les matiÃ¨res
> - Apparaissent dans le calendrier, les cours, les devoirs
> - Palette prÃ©dÃ©finie mais personnalisable

> **Nommage** :
> - Format libre (ex: "MathÃ©matiques", "SVT", "Histoire-GÃ©ographie")
> - UnicitÃ© obligatoire
> - Attention : "math" et "MathÃ©matiques" sont deux matiÃ¨res diffÃ©rentes

> **Protection** :
> - Impossible de supprimer une matiÃ¨re contenant des cours
> - Suppression des cours nÃ©cessaire avant suppression de la matiÃ¨re
> - Logs d'audit pour toutes les actions

> **Performance** :
> - Liste complÃ¨te chargÃ©e (pas de pagination car peu de matiÃ¨res)
> - Compteurs mis Ã  jour en temps rÃ©el
> - Cache des rÃ©sultats

---

**Navigation** :
- â† [Dashboard Admin](../00-dashboard.md)
- â†’ [CrÃ©er une matiÃ¨re](create.md)
- â†’ [Ã‰diter une matiÃ¨re](edit.md)

*Date : 13 dÃ©cembre 2025*

