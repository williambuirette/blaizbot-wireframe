<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>BlaizBot - Espace √âl√®ve</title>
    <link rel="stylesheet" href="style.css">
    <!-- D√©sactiv√© pour le wireframe
    <script>
        if (!sessionStorage.getItem('authenticated')) {
            window.location.href = 'index.html';
        }
        sessionStorage.removeItem('authenticated');
    </script>
    -->
</head>
<body>
    <div class="admin-wrapper">
        <!-- Sidebar Lat√©rale -->
        <aside class="sidebar" style="background: #1a1a2e; width: 220px;">
            <div class="sidebar-header" style="padding: 1.5rem; border-bottom: 1px solid rgba(255,255,255,0.1);">
                <div style="display: flex; align-items: center; gap: 0.75rem;">
                    <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                        <span style="font-size: 1.25rem;">üéì</span>
                    </div>
                    <span style="font-size: 1.25rem; font-weight: 700; color: white;">BlaizBot</span>
                </div>
            </div>
            <nav class="sidebar-nav" style="padding: 1rem 0;">
                <a href="#" class="nav-link active" data-section="dashboard" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; margin: 4px 12px; background: rgba(102, 126, 234, 0.2); color: #667eea; text-decoration: none; border-radius: 8px; font-weight: 500;">
                    <span>üè†</span> Dashboard
                </a>
                <a href="#" class="nav-link" data-section="cours" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; margin: 4px 12px; color: rgba(255,255,255,0.7); text-decoration: none; border-radius: 8px;">
                    <span>üìö</span> Mes cours
                </a>
                <a href="#" class="nav-link" data-section="revisions" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; margin: 4px 12px; color: rgba(255,255,255,0.7); text-decoration: none; border-radius: 8px;">
                    <span>üìù</span> Mes r√©visions
                </a>
                <a href="#" class="nav-link" data-section="agenda" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; margin: 4px 12px; color: rgba(255,255,255,0.7); text-decoration: none; border-radius: 8px;">
                    <span>üìÖ</span> Agenda
                </a>
                <a href="#" class="nav-link" data-section="chatbot" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; margin: 4px 12px; color: rgba(255,255,255,0.7); text-decoration: none; border-radius: 8px;">
                    <span>ü§ñ</span> Assistant IA
                </a>
                <a href="#" class="nav-link" data-section="messages" style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; margin: 4px 12px; color: rgba(255,255,255,0.7); text-decoration: none; border-radius: 8px;">
                    <span>üí¨</span> Messages
                </a>
            </nav>
            <div class="sidebar-footer" style="position: absolute; bottom: 1rem; left: 0; right: 0; padding: 0 1rem; border: none;">
                <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5);">BlaizBot v1.0</div>
            </div>
        </aside>

        <!-- Zone de Travail Principale -->
        <main class="main-content" style="background: #f8fafc;">
            <!-- Header -->
            <header style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; background: white; border-bottom: 1px solid #e5e7eb;">
                <h1 id="page-title" style="margin: 0; font-size: 1.5rem; font-weight: 600; color: #1a1a1a;">Dashboard</h1>
                <div style="display: flex; align-items: center; gap: 1.5rem;">
                    <div style="position: relative;">
                        <input type="text" placeholder="Rechercher..." style="padding: 0.5rem 1rem 0.5rem 2.5rem; border: 1px solid #e5e7eb; border-radius: 8px; width: 250px; font-size: 0.9rem;">
                        <span style="position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #9ca3af;">üîç</span>
                    </div>
                    <button style="background: none; border: none; font-size: 1.25rem; cursor: pointer; position: relative;">
                        üîî
                    </button>
                    <div style="display: flex; align-items: center; gap: 0.75rem; cursor: pointer;">
                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 0.85rem;">LM</div>
                        <span style="font-weight: 500; color: #1a1a1a;">Lucas MARTIN</span>
                    </div>
                </div>
            </header>
            
            <!-- SECTION : DASHBOARD -->
            <section id="section-dashboard" class="admin-section active" style="padding: 2rem;">

                <!-- Banni√®re de bienvenue -->
                <div style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; padding: 2rem; border-radius: 16px; margin-bottom: 2rem;">
                    <h1 style="color: white; margin: 0; font-size: 1.75rem; font-weight: 600;">Bonjour, Lucas üëã</h1>
                    <p style="color: rgba(255,255,255,0.9); margin: 0.5rem 0 0; font-size: 1rem;">Pr√™t √† apprendre quelque chose de nouveau ?</p>
                    <p style="color: rgba(255,255,255,0.8); margin: 0.25rem 0 0; font-size: 0.9rem;">Classe : 1A</p>
                </div>

                <!-- KPI Cards -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.5rem; color: #3b82f6;">üìö</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">0/2</div>
                                <div style="color: #6b7280; font-size: 0.875rem;">Cours termin√©s</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.5rem; color: #10b981;">üéØ</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">0%</div>
                                <div style="color: #6b7280; font-size: 0.875rem;">Progression</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.5rem; color: #f59e0b;">üèÜ</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">0%</div>
                                <div style="color: #6b7280; font-size: 0.875rem;">Score moyen</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.5rem; color: #8b5cf6;">‚è±Ô∏è</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">0h</div>
                                <div style="color: #6b7280; font-size: 0.875rem;">Heures pass√©es</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Acc√®s rapide -->
                <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <h3 style="margin: 0 0 1.5rem; font-size: 1rem; font-weight: 600; color: #1a1a1a;">Acc√®s rapide</h3>
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem;">
                        <button onclick="navigateTo('messages')" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: white; border: 1px solid #e5e7eb; border-radius: 12px; cursor: pointer; transition: all 0.2s;">
                            <span style="font-size: 1.5rem; color: #3b82f6;">üí¨</span>
                            <span style="font-size: 0.9rem; color: #1a1a1a; font-weight: 500;">Messagerie</span>
                        </button>
                        <button onclick="navigateTo('agenda')" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: white; border: 1px solid #e5e7eb; border-radius: 12px; cursor: pointer; transition: all 0.2s;">
                            <span style="font-size: 1.5rem; color: #10b981;">üìÖ</span>
                            <span style="font-size: 0.9rem; color: #1a1a1a; font-weight: 500;">Agenda</span>
                        </button>
                        <button onclick="navigateTo('cours')" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: white; border: 1px solid #e5e7eb; border-radius: 12px; cursor: pointer; transition: all 0.2s;">
                            <span style="font-size: 1.5rem; color: #3b82f6;">üìö</span>
                            <span style="font-size: 0.9rem; color: #1a1a1a; font-weight: 500;">Mes Cours</span>
                        </button>
                        <button onclick="navigateTo('assistant')" style="display: flex; flex-direction: column; align-items: center; gap: 0.75rem; padding: 1.5rem; background: white; border: 1px solid #e5e7eb; border-radius: 12px; cursor: pointer; transition: all 0.2s;">
                            <span style="font-size: 1.5rem; color: #f59e0b;">ü§ñ</span>
                            <span style="font-size: 0.9rem; color: #1a1a1a; font-weight: 500;">Assistant IA</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- SECTION : MES COURS -->
            <section id="section-cours" class="admin-section" style="padding: 2rem;">
                <!-- Header -->
                <div style="margin-bottom: 2rem;">
                    <h1 style="margin: 0; font-size: 1.5rem; font-weight: 600; color: #1a1a1a;">Mes Cours</h1>
                    <p style="margin: 0.25rem 0 0; color: #6b7280; font-size: 0.9rem;">Acc√©dez √† vos cours et suivez votre progression.</p>
                </div>

                <!-- KPI Cards -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Mes Cours</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #3b82f6;">1</div>
                            <div style="font-size: 0.8rem; color: #9ca3af;">cours disponibles</div>
                        </div>
                        <div style="width: 48px; height: 48px; background: #eff6ff; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.5rem; color: #3b82f6;">üìö</span>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Termin√©s</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #10b981;">1</div>
                            <div style="font-size: 0.8rem; color: #9ca3af;">cours compl√©t√©s</div>
                        </div>
                        <div style="width: 48px; height: 48px; background: #ecfdf5; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.5rem; color: #10b981;">‚úì</span>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">En Cours</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #f97316;">0</div>
                            <div style="font-size: 0.8rem; color: #9ca3af;">cours en progression</div>
                        </div>
                        <div style="width: 48px; height: 48px; background: #fff7ed; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.5rem; color: #f97316;">‚è±</span>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Progression</div>
                            <div style="font-size: 2rem; font-weight: 700; color: #ec4899;">100%</div>
                            <div style="font-size: 0.8rem; color: #9ca3af;">moyenne globale</div>
                        </div>
                        <div style="width: 48px; height: 48px; background: #fdf2f8; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.5rem; color: #ec4899;">üìà</span>
                        </div>
                    </div>
                </div>

                <!-- Filtres -->
                <div style="background: white; padding: 1rem 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb; margin-bottom: 1.5rem; display: flex; gap: 1.5rem; flex-wrap: wrap; align-items: center;">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.85rem; color: #6b7280;">Professeur :</span>
                        <select style="padding: 0.5rem 1rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.85rem; background: white;">
                            <option>Tous les profs</option>
                            <option>Marc DUPONT</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.85rem; color: #6b7280;">Mati√®re :</span>
                        <select style="padding: 0.5rem 1rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.85rem; background: white;">
                            <option>Toutes</option>
                            <option>SVT</option>
                            <option>Math√©matiques</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.85rem; color: #6b7280;">Th√©matique :</span>
                        <select style="padding: 0.5rem 1rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.85rem; background: white;">
                            <option>Toutes</option>
                        </select>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 0.85rem; color: #6b7280;">Statut :</span>
                        <select style="padding: 0.5rem 1rem; border: 1px solid #e5e7eb; border-radius: 6px; font-size: 0.85rem; background: white;">
                            <option>Tous les statuts</option>
                            <option>En cours</option>
                            <option>Termin√©</option>
                        </select>
                    </div>
                </div>

                <!-- Tableau des cours -->
                <div style="background: white; border-radius: 12px; border: 1px solid #e5e7eb; overflow: hidden;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                                <th style="padding: 1rem 1.5rem; text-align: left; font-weight: 500; color: #6b7280; font-size: 0.85rem;">Mati√®re</th>
                                <th style="padding: 1rem 1.5rem; text-align: left; font-weight: 500; color: #6b7280; font-size: 0.85rem;">Th√®me</th>
                                <th style="padding: 1rem 1.5rem; text-align: left; font-weight: 500; color: #6b7280; font-size: 0.85rem;">Professeur</th>
                                <th style="padding: 1rem 1.5rem; text-align: center; font-weight: 500; color: #6b7280; font-size: 0.85rem;">üìÑ Chapitres</th>
                                <th style="padding: 1rem 1.5rem; text-align: center; font-weight: 500; color: #6b7280; font-size: 0.85rem;">üìù Exercices</th>
                                <th style="padding: 1rem 1.5rem; text-align: left; font-weight: 500; color: #6b7280; font-size: 0.85rem;">Progression</th>
                                <th style="padding: 1rem 1.5rem; text-align: left; font-weight: 500; color: #6b7280; font-size: 0.85rem;">Statut</th>
                                <th style="padding: 1rem 1.5rem; text-align: center; font-weight: 500; color: #6b7280; font-size: 0.85rem;">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #e5e7eb;">
                                <td style="padding: 1rem 1.5rem; font-size: 0.9rem; color: #1a1a1a;">SVT</td>
                                <td style="padding: 1rem 1.5rem; font-size: 0.9rem; color: #1a1a1a;">La photosynth√®se</td>
                                <td style="padding: 1rem 1.5rem; font-size: 0.9rem; color: #6b7280;">Marc DUPONT</td>
                                <td style="padding: 1rem 1.5rem; text-align: center; font-size: 0.9rem; color: #6b7280;">1/1</td>
                                <td style="padding: 1rem 1.5rem; text-align: center; font-size: 0.9rem; color: #6b7280;">0</td>
                                <td style="padding: 1rem 1.5rem;">
                                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                                        <div style="flex: 1; height: 8px; background: #e5e7eb; border-radius: 4px; overflow: hidden;">
                                            <div style="width: 100%; height: 100%; background: #1a1a1a; border-radius: 4px;"></div>
                                        </div>
                                        <span style="font-size: 0.85rem; color: #1a1a1a; font-weight: 500;">100%</span>
                                    </div>
                                </td>
                                <td style="padding: 1rem 1.5rem;">
                                    <span style="background: #ecfdf5; color: #059669; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem; font-weight: 500;">Termin√©</span>
                                </td>
                                <td style="padding: 1rem 1.5rem; text-align: center;">
                                    <button style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: white; border: 1px solid #e5e7eb; border-radius: 6px; cursor: pointer; font-size: 0.85rem; color: #1a1a1a;">
                                        üëÅ Voir
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- SECTION : ASSISTANT IA (BLAIZ'BOT STUDIO) -->
            <section id="section-chatbot" class="admin-section" style="padding: 0 !important; margin: 0;">
                <div style="display: flex; height: calc(100vh - 140px); background: #f8f9fa;">
                    
                    <!-- PANNEAU GAUCHE : Liste des conversations -->
                    <div style="width: 280px; background: #fff; border-right: 1px solid #e0e0e0; display: flex; flex-direction: column;">
                        <!-- Header conversations -->
                        <div style="padding: 20px; border-bottom: 1px solid #e0e0e0;">
                            <h3 style="margin: 0 0 15px; font-size: 1rem; font-weight: 600; color: #333;">Conversations</h3>
                            <button onclick="window.newBotConversation()" style="width: 100%; padding: 10px 16px; background: #2563eb; color: white; border: none; border-radius: 8px; font-size: 0.9rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <span style="font-size: 1.1rem;">+</span> Nouvelle conversation
                            </button>
                        </div>
                        
                        <!-- Filtres -->
                        <div style="padding: 12px 20px; border-bottom: 1px solid #e0e0e0;">
                            <button onclick="window.toggleBotFilters()" style="display: flex; align-items: center; gap: 8px; background: none; border: none; color: #666; font-size: 0.85rem; cursor: pointer; padding: 0;">
                                <span id="bot-filters-arrow">‚ñ∂</span> Filtres
                            </button>
                            <div id="bot-filters-panel" style="display: none; margin-top: 10px;">
                                <select style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 6px; font-size: 0.85rem;">
                                    <option>Tous les cours</option>
                                    <option>Math√©matiques</option>
                                    <option>Fran√ßais</option>
                                    <option>Histoire-G√©o</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Section 7 derniers jours -->
                        <div style="flex: 1; overflow-y: auto; padding: 12px;">
                            <div style="font-size: 0.75rem; color: #888; text-transform: uppercase; margin-bottom: 8px; padding: 0 8px;">7 derniers jours</div>
                            
                            <!-- Liste des conversations -->
                            <div id="bot-conversations-list">
                                <div onclick="window.openBotConversation('algebre')" class="bot-conversation-item" style="padding: 12px; border-radius: 8px; cursor: pointer; margin-bottom: 4px; background: #f0f7ff; border-left: 3px solid #2563eb;">
                                    <div style="font-size: 0.9rem; font-weight: 500; color: #333;">alg√®bre</div>
                                    <div style="font-size: 0.75rem; color: #888; margin-top: 4px;">Math√©matiques</div>
                                </div>
                                <div onclick="window.openBotConversation('revolution')" class="bot-conversation-item" style="padding: 12px; border-radius: 8px; cursor: pointer; margin-bottom: 4px;">
                                    <div style="font-size: 0.9rem; font-weight: 500; color: #333;">R√©volution fran√ßaise</div>
                                    <div style="font-size: 0.75rem; color: #888; margin-top: 4px;">Histoire</div>
                                </div>
                                <div onclick="window.openBotConversation('poesie')" class="bot-conversation-item" style="padding: 12px; border-radius: 8px; cursor: pointer; margin-bottom: 4px;">
                                    <div style="font-size: 0.9rem; font-weight: 500; color: #333;">Analyse po√®me</div>
                                    <div style="font-size: 0.75rem; color: #888; margin-top: 4px;">Fran√ßais</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- PANNEAU DROIT : Zone de chat -->
                    <div style="flex: 1; display: flex; flex-direction: column; background: #fff;">
                        
                        <!-- Header du chat -->
                        <div style="padding: 16px 24px; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;">
                            <h2 id="bot-chat-title" style="margin: 0; font-size: 1.1rem; font-weight: 600; color: #333;">Blaiz'bot Studio</h2>
                            <div style="display: flex; gap: 12px;">
                                <button onclick="window.configureBotStudio()" style="padding: 8px 16px; background: #f3f4f6; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 0.85rem; cursor: pointer; color: #555;">
                                    ‚öôÔ∏è Configurer
                                </button>
                                <button onclick="window.closeBotConversation()" style="padding: 8px 16px; background: #f3f4f6; border: 1px solid #e0e0e0; border-radius: 6px; font-size: 0.85rem; cursor: pointer; color: #555;">
                                    ‚úï Fermer
                                </button>
                            </div>
                        </div>
                        
                        <!-- Zone de messages / √âcran de bienvenue -->
                        <div id="bot-chat-area" style="flex: 1; overflow-y: auto; padding: 40px;">
                            
                            <!-- √âtat vide : Bienvenue -->
                            <div id="bot-welcome-screen" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; text-align: center;">
                                <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin-bottom: 24px;">
                                    <span style="font-size: 2.5rem;">ü§ñ</span>
                                </div>
                                <h2 style="margin: 0 0 12px; font-size: 1.5rem; font-weight: 600; color: #333;">Bienvenue dans Blaiz'bot Studio</h2>
                                <p style="margin: 0; color: #666; font-size: 0.95rem; max-width: 400px; line-height: 1.6;">
                                    Pose-moi des questions sur tes cours, demande des explications ou g√©n√®re des quiz pour r√©viser.
                                </p>
                                
                                <!-- Suggestions rapides -->
                                <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 30px; justify-content: center; max-width: 500px;">
                                    <button onclick="window.askBotQuestion('Explique-moi les fractions')" style="padding: 10px 16px; background: #f0f7ff; border: 1px solid #d1e9ff; border-radius: 20px; font-size: 0.85rem; cursor: pointer; color: #2563eb;">
                                        üìê Explique-moi les fractions
                                    </button>
                                    <button onclick="window.askBotQuestion('Quiz sur la R√©volution')" style="padding: 10px 16px; background: #f0f7ff; border: 1px solid #d1e9ff; border-radius: 20px; font-size: 0.85rem; cursor: pointer; color: #2563eb;">
                                        üìù Quiz sur la R√©volution
                                    </button>
                                    <button onclick="window.askBotQuestion('R√©sume mon cours')" style="padding: 10px 16px; background: #f0f7ff; border: 1px solid #d1e9ff; border-radius: 20px; font-size: 0.85rem; cursor: pointer; color: #2563eb;">
                                        üìÑ R√©sume mon cours
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Messages (masqu√© par d√©faut) -->
                            <div id="bot-messages-container" style="display: none;">
                                <!-- Message IA -->
                                <div style="display: flex; gap: 12px; margin-bottom: 20px;">
                                    <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <span style="color: white; font-size: 1rem;">ü§ñ</span>
                                    </div>
                                    <div style="background: #f3f4f6; padding: 14px 18px; border-radius: 4px 18px 18px 18px; max-width: 70%;">
                                        <p style="margin: 0; font-size: 0.95rem; color: #333; line-height: 1.5;">
                                            Bonjour Lucas ! Je suis pr√™t √† t'aider sur l'<strong>alg√®bre</strong>. Qu'est-ce que tu aimerais comprendre ?
                                        </p>
                                    </div>
                                </div>
                                
                                <!-- Message utilisateur -->
                                <div style="display: flex; gap: 12px; margin-bottom: 20px; justify-content: flex-end;">
                                    <div style="background: #2563eb; padding: 14px 18px; border-radius: 18px 18px 4px 18px; max-width: 70%;">
                                        <p style="margin: 0; font-size: 0.95rem; color: white; line-height: 1.5;">
                                            Comment r√©soudre une √©quation du premier degr√© ?
                                        </p>
                                    </div>
                                    <div style="width: 36px; height: 36px; background: #e5e7eb; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <span style="font-size: 0.85rem;">LP</span>
                                    </div>
                                </div>
                                
                                <!-- R√©ponse IA -->
                                <div style="display: flex; gap: 12px; margin-bottom: 20px;">
                                    <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                        <span style="color: white; font-size: 1rem;">ü§ñ</span>
                                    </div>
                                    <div style="background: #f3f4f6; padding: 14px 18px; border-radius: 4px 18px 18px 18px; max-width: 70%;">
                                        <p style="margin: 0 0 10px; font-size: 0.95rem; color: #333; line-height: 1.5;">
                                            Pour r√©soudre une √©quation du premier degr√© comme <strong>2x + 5 = 11</strong>, voici les √©tapes :
                                        </p>
                                        <ol style="margin: 10px 0; padding-left: 20px; font-size: 0.9rem; color: #333; line-height: 1.6;">
                                            <li>Isoler le terme avec x : 2x = 11 - 5</li>
                                            <li>Simplifier : 2x = 6</li>
                                            <li>Diviser par le coefficient : x = 6 √∑ 2 = <strong>3</strong></li>
                                        </ol>
                                        <p style="margin: 10px 0 0; font-size: 0.9rem; color: #666;">
                                            Tu veux essayer avec un autre exemple ? üòä
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Barre de saisie -->
                        <div style="padding: 16px 24px; border-top: 1px solid #e0e0e0; background: #fff;">
                            <div style="display: flex; align-items: center; gap: 12px; background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 12px; padding: 8px 16px;">
                                <button title="Joindre un fichier" style="background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #666; padding: 4px;">üìé</button>
                                <input type="text" id="bot-chat-input" placeholder="Pose ta question..." style="flex: 1; border: none; background: transparent; font-size: 0.95rem; outline: none; padding: 8px 0;">
                                <button title="Message vocal" style="background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #666; padding: 4px;">üé§</button>
                                <button onclick="window.sendBotMessage()" title="Envoyer" style="width: 40px; height: 40px; background: #2563eb; border: none; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                    <span style="color: white; font-size: 1.1rem;">‚û§</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION : BLAIZ'BOT LAB (STYLE NOTEBOOK LM) -->
            <section id="section-lab" class="admin-section">
                <header class="content-header">
                    <div class="header-title">
                        <h1>üß™ Blaiz'bot Lab</h1>
                        <p>Studio de recherche augment√© par l'IA (Inspir√© de NotebookLM).</p>
                    </div>
                    <div class="header-actions" id="lab-header-actions">
                        <button class="btn-primary" style="background: #9b59b6; border: none;" onclick="openCreateProjectModal('lab')">+ Nouveau Projet</button>
                    </div>
                </header>

                <!-- VUE 1 : DASHBOARD (LISTE DES PROJETS) -->
                <div id="lab-dashboard" style="padding: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;" id="lab-projects-grid">
                        <!-- Les projets s'afficheront ici -->
                        <div class="project-card-new" onclick="openCreateProjectModal('lab')">
                            <div style="font-size: 2rem; margin-bottom: 10px;">‚ûï</div>
                            <div style="font-weight: bold;">Cr√©er un nouveau projet</div>
                            <div style="font-size: 0.8rem; color: #7f8c8d; margin-top: 5px;">Importez vos sources et commencez √† explorer</div>
                        </div>
                    </div>
                </div>

                <!-- VUE 2 : WORKSPACE (L'INTERFACE 3 COLONNES) -->
                <div id="lab-workspace-view" style="display: none;">
                    <div style="padding: 0 20px 15px; display: flex; align-items: center; gap: 15px;">
                        <button class="btn-secondary" onclick="showLabDashboard()" style="padding: 5px 10px; font-size: 0.8rem;">‚Üê Retour aux projets</button>
                        <h2 id="current-project-title" style="margin: 0; font-size: 1.1rem; color: #2c3e50;">Projet sans titre</h2>
                    </div>
                    
                    <div class="lab-container" id="lab-container">
                        
                        <!-- Colonne 1 : Sources -->
                        <div class="lab-column" style="width: 300px; min-width: 300px;" id="lab-col-sources">
                        <div style="padding: 15px; background: #f8f9fa; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
                            <h4 style="margin: 0; font-size: 0.9rem;">üìö Sources</h4>
                            <div style="display: flex; gap: 5px;">
                                <button class="btn-primary" style="padding: 4px 8px; font-size: 0.7rem; background: #9b59b6; border: none;" onclick="document.getElementById('lab-source-upload').click()">+ Fichier</button>
                                <button class="btn-icon" title="Ajouter un lien Web" onclick="promptAddSource('web')">üåê</button>
                                <button class="btn-icon" title="Ajouter une vid√©o YouTube" onclick="promptAddSource('yt')">üé•</button>
                            </div>
                            <input type="file" id="lab-source-upload" style="display: none;" onchange="addLabSource(this)">
                        </div>
                        <div id="lab-sources-list" style="flex-grow: 1; overflow-y: auto; padding: 15px;">
                            <div style="text-align: center; color: #95a5a6; font-size: 0.8rem; margin-top: 20px;" id="no-sources-msg">
                                Aucune source.<br>Importez des fichiers, liens ou vid√©os.
                            </div>
                        </div>
                        <div style="padding: 12px; background: #fdf2f9; font-size: 0.75rem; color: #8e44ad; border-top: 1px solid #eee;">
                            <strong>Note :</strong> L'IA utilise ces sources comme base de connaissance exclusive.
                        </div>
                    </div>

                    <div class="lab-resizer" onmousedown="initResize(event, 'left')" ondblclick="resetLayout('left', 'lab')"></div>

                    <!-- Colonne 2 : Chat -->
                    <div class="lab-column" style="flex: 1; min-width: 200px;" id="lab-col-chat">
                        <div id="lab-chat-messages" style="flex-grow: 1; background: #fff; padding: 20px; overflow-y: auto;">
                            <div style="margin-bottom: 15px; display: flex; gap: 10px;">
                                <div style="width: 35px; height: 35px; background: #9b59b6; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">L</div>
                                <div style="background: #f3e5f5; padding: 12px; border-radius: 0 15px 15px 15px; max-width: 80%; font-size: 0.9rem;">
                                    Bonjour Lucas ! Je suis ton assistant de recherche. 
                                    <br><br>
                                    Importe tes sources √† gauche pour commencer √† travailler.
                                </div>
                            </div>
                        </div>
                        <div style="padding: 15px; background: #f8f9fa; border-top: 1px solid #eee; display: flex; gap: 10px; align-items: center;">
                            <label for="lab-chat-file" style="cursor: pointer; font-size: 1.2rem;" title="Joindre un fichier au chat">üìé</label>
                            <input type="file" id="lab-chat-file" style="display: none;" onchange="handleLabChatFile(this)">
                            <input type="text" id="lab-chat-input" placeholder="Pose une question sur tes sources..." style="flex-grow: 1; padding: 12px; border: 1px solid #ddd; border-radius: 25px; outline: none;">
                            <button class="btn-primary" style="background: #9b59b6; border: none; border-radius: 50%; width: 45px; height: 45px; padding: 0; display: flex; align-items: center; justify-content: center;" onclick="sendLabMessage()">‚ûî</button>
                        </div>
                    </div>

                    <div class="lab-resizer" onmousedown="initResize(event, 'right')" ondblclick="resetLayout('right', 'lab')"></div>

                    <!-- Colonne 3 : Workspace -->
                    <div class="lab-column" style="width: 320px; min-width: 320px;" id="lab-col-workspace">
                        <div style="padding: 15px; background: #f8f9fa; border-bottom: 1px solid #eee;">
                            <h4 style="margin: 0; font-size: 0.9rem;">üõ†Ô∏è Espace de Travail</h4>
                        </div>
                        <div style="padding: 15px; flex-grow: 1; overflow-y: auto;">
                            
                            <h5 style="margin: 0 0 10px; font-size: 0.85rem; color: #7f8c8d; text-transform: uppercase;">G√©n√©rer des documents</h5>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                                <button class="btn-small" style="background: #f5f0ff; color: #8e44ad; border: 1px solid #d7bde2;" onclick="openLabConfig('synthese')">üìù Synth√®se</button>
                                <button class="btn-small" style="background: #f5f0ff; color: #8e44ad; border: 1px solid #d7bde2;" onclick="openLabConfig('quiz')">üé≤ Quiz</button>
                                <button class="btn-small" style="background: #f5f0ff; color: #8e44ad; border: 1px solid #d7bde2;" onclick="openLabConfig('flashcards')">üóÇÔ∏è Flashcards</button>
                                <button class="btn-small" style="background: #f5f0ff; color: #8e44ad; border: 1px solid #d7bde2;" onclick="openLabConfig('mindmap')">üß† Carte Mentale</button>
                            </div>

                            <!-- Zone de Configuration Contextuelle (Modal) -->
                            <div id="lab-config-modal" class="modal-overlay" style="display: none;">
                                <div class="modal-content" style="max-width: 400px; animation: slideIn 0.3s ease-out;">
                                    <h3 id="lab-config-title" style="margin-bottom: 15px; color: #8e44ad; display: flex; align-items: center; gap: 10px;">‚öôÔ∏è Configuration</h3>
                                    <p style="font-size: 0.9rem; color: #666; margin-bottom: 15px;">
                                        Personnalisez la g√©n√©ration de votre document. Quelles sont vos instructions pour l'IA ?
                                    </p>
                                    <textarea id="lab-contextual-prompt" style="width: 100%; height: 120px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 0.9rem; resize: none; margin-bottom: 20px; font-family: inherit;" placeholder="Ex: 'Fais un quiz de 5 questions difficiles', 'R√©sum√© structur√© en 3 parties'..."></textarea>
                                    <div style="display: flex; gap: 10px;">
                                        <button class="btn-primary" style="flex: 2; background: #9b59b6; border: none;" id="lab-config-confirm-btn">üöÄ G√©n√©rer maintenant</button>
                                        <button class="btn-secondary" style="flex: 1;" onclick="closeLabModal()">Annuler</button>
                                    </div>
                                </div>
                            </div>

                            <div id="lab-workspace-output" style="margin-top: 20px; padding: 15px; background: #fff; border: 1px dashed #ddd; border-radius: 8px; min-height: 150px; font-size: 0.85rem;">
                                <p style="color: #95a5a6; text-align: center; margin-top: 50px;">Tes documents g√©n√©r√©s appara√Ætront ici.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

            <!-- SECTION : BASE DE CONNAISSANCES -->
            <section id="section-knowledge" class="admin-section">
                <header class="content-header">
                    <div class="header-title">
                        <h1>üìö Base de Connaissances</h1>
                        <p>Acc√®de aux ressources officielles et g√®re tes propres fiches.</p>
                    </div>
                    <div class="header-actions">
                        <div class="tab-switcher" style="display: flex; background: #eee; padding: 5px; border-radius: 8px; gap: 5px;">
                            <button class="tab-btn active" onclick="switchKnowledgeTab('teacher')" id="tab-btn-teacher" style="padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; background: #fff; color: #2c3e50;">üë®‚Äçüè´ Base Professeur</button>
                            <button class="tab-btn" onclick="switchKnowledgeTab('student')" id="tab-btn-student" style="padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; background: transparent; color: #7f8c8d;">üë§ Ma Base Perso</button>
                        </div>
                    </div>
                </header>

                <!-- VUE : BASE PROFESSEUR -->
                <div id="knowledge-teacher-view" class="knowledge-content">
                    <div style="display: grid; grid-template-columns: 250px 1fr; gap: 20px; padding: 20px; height: calc(100vh - 250px);">
                        <!-- Sidebar Mati√®res -->
                        <div class="stats-card" style="padding: 0; overflow-y: auto;">
                            <div style="padding: 15px; background: #f8f9fa; border-bottom: 1px solid #eee; font-weight: bold;">Mati√®res</div>
                            <div id="knowledge-teacher-subjects" style="padding: 10px;">
                                <!-- Liste des mati√®res prof -->
                            </div>
                        </div>
                        <!-- Contenu Th√©matiques & Documents -->
                        <div class="stats-card" style="padding: 20px; overflow-y: auto;">
                            <div id="knowledge-teacher-details">
                                <div style="text-align: center; color: #95a5a6; margin-top: 100px;">
                                    <div style="font-size: 3rem; margin-bottom: 20px;">üìÇ</div>
                                    <h3>S√©lectionne une mati√®re pour voir les ressources</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VUE : BASE √âL√àVE -->
                <div id="knowledge-student-view" class="knowledge-content" style="display: none;">
                    <div style="display: grid; grid-template-columns: 250px 1fr; gap: 20px; padding: 20px; height: calc(100vh - 250px);">
                        <!-- Sidebar Mati√®res -->
                        <div class="stats-card" style="padding: 0; overflow-y: auto;">
                            <div style="padding: 15px; background: #f8f9fa; border-bottom: 1px solid #eee; font-weight: bold; display: flex; justify-content: space-between; align-items: center;">
                                <span>Mes Mati√®res</span>
                                <button class="btn-icon" onclick="addStudentSubject()" title="Ajouter une mati√®re">‚ûï</button>
                            </div>
                            <div id="knowledge-student-subjects" style="padding: 10px;">
                                <!-- Liste des mati√®res √©l√®ve -->
                            </div>
                        </div>
                        <!-- Contenu Th√©matiques & Documents -->
                        <div class="stats-card" style="padding: 20px; overflow-y: auto;">
                            <div id="knowledge-student-details">
                                <div style="text-align: center; color: #95a5a6; margin-top: 100px;">
                                    <div style="font-size: 3rem; margin-bottom: 20px;">üìù</div>
                                    <h3>Organise tes propres fiches et documents</h3>
                                    <p>Tes synth√®ses g√©n√©r√©es dans le Lab peuvent √™tre enregistr√©es ici.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION : MESSAGERIE PROFESSEUR -->
            <section id="section-messages" class="admin-section">
                <header class="content-header">
                    <div class="header-title">
                        <h1>Centre de Communication</h1>
                        <p>√âchanges avec tes enseignants et ta classe</p>
                    </div>
                </header>
                
                <div style="display: flex; gap: 20px; height: calc(100vh - 200px);">
                    <!-- Sidebar des th√®mes -->
                    <div class="stats-card" style="flex: 1; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
                        <div style="padding: 15px; border-bottom: 1px solid #eee; background: #f8f9fa;">
                            <input type="text" placeholder="Rechercher un th√®me ou prof..." style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; font-size: 0.85rem;">
                        </div>
                        <div style="overflow-y: auto; flex-grow: 1;" id="student-conv-list">
                            <!-- G√©n√©ral -->
                            <div onclick="selectStudentChat('G√©n√©ral', 'classe')" style="padding: 12px 15px; border-bottom: 1px solid #eee; cursor: pointer; font-weight: bold; background: #f0f7ff; border-left: 4px solid #3498db; display: flex; justify-content: space-between; align-items: center;">
                                <span>üì¢ Chat de Classe (G√©n√©ral)</span>
                                <span class="status-pill" style="background: #3498db; color: white; padding: 2px 6px; font-size: 0.7rem;">3</span>
                            </div>

                            <!-- Mati√®re : Math√©matiques -->
                            <div style="background: #f8f9fa; border-bottom: 1px solid #eee;">
                                <div style="padding: 10px 15px; font-size: 0.85rem; font-weight: bold; color: #2c3e50; background: #eef2f7; display: flex; align-items: center; gap: 8px;">
                                    üìê Math√©matiques
                                </div>
                                
                                <!-- Th√®me : Fractions -->
                                <div style="padding: 5px 15px 5px 25px; background: #fff; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; border-bottom: 1px solid #f9f9f9;">
                                    üìò Th√®me : Les Fractions
                                </div>
                                <div style="background: #fff; padding-left: 25px;">
                                    <div class="msg-item" onclick="selectStudentChat('Les Fractions', 'classe')" style="padding: 8px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer; font-size: 0.85rem; color: #34495e;">
                                        üì¢ Chat de groupe
                                    </div>
                                    <div class="msg-item" onclick="selectStudentChat('Les Fractions', 'prof')" style="padding: 8px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer; font-size: 0.85rem; display: flex; justify-content: space-between; align-items: center;">
                                        <span>üë§ M. DUPONT (Prof)</span>
                                        <span class="status-pill" style="background: #e74c3c; color: white; padding: 1px 5px; font-size: 0.6rem; border-radius: 10px;">1</span>
                                    </div>
                                </div>

                                <!-- Th√®me : G√©om√©trie -->
                                <div style="padding: 5px 15px 5px 25px; background: #fff; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; border-bottom: 1px solid #f9f9f9;">
                                    üìò Th√®me : G√©om√©trie
                                </div>
                                <div style="background: #fff; padding-left: 25px;">
                                    <div class="msg-item" onclick="selectStudentChat('G√©om√©trie', 'prof')" style="padding: 8px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer; font-size: 0.85rem;">
                                        üë§ M. DUPONT (Prof)
                                    </div>
                                </div>
                            </div>

                            <!-- Mati√®re : Fran√ßais -->
                            <div style="background: #f8f9fa; border-bottom: 1px solid #eee;">
                                <div style="padding: 10px 15px; font-size: 0.85rem; font-weight: bold; color: #2c3e50; background: #eef2f7; display: flex; align-items: center; gap: 8px;">
                                    ‚úçÔ∏è Fran√ßais
                                </div>
                                <div style="padding: 5px 15px 5px 25px; background: #fff; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; border-bottom: 1px solid #f9f9f9;">
                                    üìò Th√®me : La Po√©sie
                                </div>
                                <div style="background: #fff; padding-left: 25px;">
                                    <div class="msg-item" onclick="selectStudentChat('La Po√©sie', 'prof')" style="padding: 8px 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer; font-size: 0.85rem;">
                                        üë§ Mme. MARTIN (Prof)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Fen√™tre de Chat -->
                    <div class="stats-card" style="flex: 2.5; display: flex; flex-direction: column; padding: 0; overflow: hidden;">
                        <div id="chat-header" style="padding: 15px; border-bottom: 1px solid #eee; background: #fff;">
                            <h3 id="chat-target-name" style="margin: 0;">üì¢ Chat de Classe (G√©n√©ral)</h3>
                            <span id="chat-target-theme" style="font-size: 0.8rem; color: #3498db; font-weight: bold;">Th√®me : G√©n√©ral</span>
                        </div>

                        <div class="chat-messages" id="student-chat-messages" style="flex-grow: 1; background: #f4f7f6; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px;">
                            <div class="message bot" style="align-self: flex-start; background: white; color: #2c3e50; padding: 10px 15px; border-radius: 15px 15px 15px 0; max-width: 70%; border: 1px solid #ddd;">
                                <span style="font-weight: bold; color: #3498db;">M. DUPONT :</span> Bonjour √† tous ! Bienvenue dans le fil de discussion g√©n√©ral.
                            </div>
                        </div>

                        <div style="padding: 15px; background: #fff; border-top: 1px solid #eee;">
                            <div class="chat-input" style="display: flex; gap: 10px; align-items: center;">
                                <button type="button" style="background: #95a5a6; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer;" title="Joindre un fichier">üìé</button>
                                <input type="text" id="student-chat-input-text" placeholder="√âcrire un message..." style="flex-grow: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                <button onclick="sendStudentChatMessage()" style="background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold;">Envoyer ‚û§</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION : MES EXERCICES -->
            <section id="section-exercices" class="admin-section">
                <header class="content-header">
                    <div class="header-title">
                        <h1>Mes Exercices</h1>
                        <p>Entra√Æne-toi et progresse √† ton rythme</p>
                    </div>
                </header>
                <div class="stats-grid">
                    <div class="stats-card">
                        <h3>Quiz : Les Fractions (Niveau 1)</h3>
                        <p>Statut : <span class="status-pill" style="background: #2ecc71; color: white;">R√©ussi</span></p>
                        <p>Score : 18/20</p>
                        <button class="btn-primary">Revoir</button>
                    </div>
                    <div class="stats-card">
                        <h3>Exercice : G√©om√©trie Plane</h3>
                        <p>Statut : <span class="status-pill" style="background: #f1c40f; color: white;">√Ä faire</span></p>
                        <p>Date limite : Demain</p>
                        <button class="btn-primary">Commencer</button>
                    </div>
                </div>
            </section>

            <!-- SECTION : AGENDA -->
            <section id="section-agenda" class="admin-section" style="padding: 2rem;">
                <!-- Header -->
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.5rem;">
                    <div>
                        <h1 style="margin: 0; font-size: 1.5rem; font-weight: 600; color: #1a1a1a; display: flex; align-items: center; gap: 0.5rem;">
                            üìÖ Mon Agenda
                        </h1>
                        <p style="margin: 0.25rem 0 0; color: #6b7280; font-size: 0.9rem;">Tous tes cours, devoirs et √©v√©nements au m√™me endroit</p>
                    </div>
                    <div class="view-toggle" style="display: flex; gap: 0.5rem; background: #f8f9fa; padding: 4px; border-radius: 8px;">
                        <button id="btn-calendar-view" onclick="switchStudentAgendaView('calendar')" style="padding: 0.5rem 1rem; background: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">üìÖ Calendrier</button>
                        <button id="btn-list-view" onclick="switchStudentAgendaView('list')" style="padding: 0.5rem 1rem; background: transparent; border: none; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">üìã Liste</button>
                    </div>
                </div>

                <!-- Filtres -->
                <div style="background: white; padding: 1.25rem; border-radius: 12px; border: 1px solid #e5e7eb; margin-bottom: 1.5rem;">
                    <div style="font-size: 0.9rem; font-weight: 500; color: #6b7280; margin-bottom: 1rem;">Filtres</div>
                    
                    <div style="margin-bottom: 1rem;">
                        <div style="font-size: 0.85rem; font-weight: 600; color: #1a1a1a; margin-bottom: 0.5rem;">Type d'√©v√©nement</div>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" checked style="accent-color: #3b82f6;"> Cours
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" checked style="accent-color: #3b82f6;"> Devoirs
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" checked style="accent-color: #3b82f6;"> √âv√©nements
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <div style="font-size: 0.85rem; font-weight: 600; color: #1a1a1a; margin-bottom: 0.5rem;">Mati√®res</div>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" checked style="accent-color: #3b82f6;"> Math√©matiques
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" checked style="accent-color: #3b82f6;"> Fran√ßais
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" style="accent-color: #3b82f6;"> Anglais
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; font-size: 0.85rem; color: #374151; cursor: pointer;">
                                <input type="checkbox" style="accent-color: #3b82f6;"> Histoire-G√©o
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Vue Calendrier -->
                <div id="student-agenda-calendar-view" style="background: white; border-radius: 12px; border: 1px solid #e5e7eb; overflow: hidden;">
                    <!-- Navigation du mois -->
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid #e5e7eb;">
                        <button onclick="changeStudentAgendaMonth(-1)" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 1px solid #e5e7eb; background: white; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                            ‚óÄ Mois
                        </button>
                        <h3 id="student-agenda-month" style="margin: 0; font-size: 1.1rem; font-weight: 600; color: #1a1a1a;">Janvier 2026</h3>
                        <button onclick="changeStudentAgendaMonth(1)" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; border: 1px solid #e5e7eb; background: white; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                            Mois ‚ñ∂
                        </button>
                    </div>
                    
                    <!-- En-t√™tes des jours -->
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280;">Lun</div>
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280;">Mar</div>
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280;">Mer</div>
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280;">Jeu</div>
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280;">Ven</div>
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280; background: #f3f4f6;">Sam</div>
                        <div style="padding: 0.75rem; text-align: center; font-size: 0.8rem; font-weight: 500; color: #6b7280; background: #f3f4f6;">Dim</div>
                    </div>
                    
                    <!-- Grille du calendrier -->
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr);">
                        <!-- Semaine 1 -->
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; color: #9ca3af;">29</div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; color: #9ca3af;">30</div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; color: #9ca3af;">31</div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">1</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">2</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">3</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">4</span></div>
                        <!-- Semaine 2 -->
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">5</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">6</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">7</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">8</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">9</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">10</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">11</span></div>
                        <!-- Semaine 3 -->
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">12</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">13</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">14</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; background: #eff6ff; border: 2px solid #3b82f6;">
                            <span style="font-weight: 600; color: #3b82f6;">15</span>
                            <div style="font-size: 0.75rem; color: #3b82f6; margin-top: 0.25rem;">2 √©v√©nements</div>
                        </div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">16</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;">
                            <span style="font-weight: 500;">17</span>
                        </div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">18</span></div>
                        <!-- Semaine 4 -->
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">19</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;">
                            <span style="font-weight: 500;">20</span>
                        </div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">21</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">22</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">23</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; border-right: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">24</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-bottom: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">25</span></div>
                        <!-- Semaine 5 -->
                        <div style="padding: 0.75rem; min-height: 80px; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">26</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">27</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">28</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">29</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-right: 1px solid #e5e7eb;"><span style="font-weight: 500;">30</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; border-right: 1px solid #e5e7eb; background: #f9fafb;"><span style="font-weight: 500;">31</span></div>
                        <div style="padding: 0.75rem; min-height: 80px; background: #f9fafb; color: #9ca3af;">1</div>
                    </div>
                </div>

                <!-- Vue Liste (cach√©e par d√©faut) -->
                <div id="student-agenda-list-view" style="display: none; background: white; border-radius: 12px; border: 1px solid #e5e7eb; padding: 1.5rem;">
                    <div style="border-bottom: 1px solid #e5e7eb; padding-bottom: 1rem; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="background: #dbeafe; color: #1d4ed8; padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.8rem; font-weight: 500;">Cours</span>
                            <div>
                                <h4 style="margin: 0; font-size: 1rem; color: #1a1a1a;">Math√©matiques - Les Fractions</h4>
                                <p style="margin: 0.25rem 0 0; font-size: 0.85rem; color: #6b7280;">üïê 15 janv. 2026 ‚Ä¢ 14h00-15h30 ‚Ä¢ Salle 203</p>
                            </div>
                        </div>
                    </div>
                    <div style="border-bottom: 1px solid #e5e7eb; padding-bottom: 1rem; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="background: #fef3c7; color: #b45309; padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.8rem; font-weight: 500;">Devoir</span>
                            <div>
                                <h4 style="margin: 0; font-size: 1rem; color: #1a1a1a;">Exercice Chapitre 3</h4>
                                <p style="margin: 0.25rem 0 0; font-size: 0.85rem; color: #6b7280;">üìÖ √âch√©ance : 17 janv. 2026</p>
                            </div>
                        </div>
                    </div>
                    <div style="border-bottom: 1px solid #e5e7eb; padding-bottom: 1rem; margin-bottom: 1rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="background: #dbeafe; color: #1d4ed8; padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.8rem; font-weight: 500;">Cours</span>
                            <div>
                                <h4 style="margin: 0; font-size: 1rem; color: #1a1a1a;">Fran√ßais - La Po√©sie</h4>
                                <p style="margin: 0.25rem 0 0; font-size: 0.85rem; color: #6b7280;">üïê 16 janv. 2026 ‚Ä¢ 10h00-11h30 ‚Ä¢ Salle 105</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="background: #dcfce7; color: #15803d; padding: 0.25rem 0.75rem; border-radius: 6px; font-size: 0.8rem; font-weight: 500;">√âv√©nement</span>
                            <div>
                                <h4 style="margin: 0; font-size: 1rem; color: #1a1a1a;">Sortie Mus√©e des Sciences</h4>
                                <p style="margin: 0.25rem 0 0; font-size: 0.85rem; color: #6b7280;">üïê 20 janv. 2026 ‚Ä¢ 09h00-17h00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION : MES R√âVISIONS -->
            <section id="section-revisions" class="admin-section" style="padding: 2rem;">
                <!-- Header -->
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 2rem;">
                    <div>
                        <h1 style="margin: 0; font-size: 1.5rem; font-weight: 600; color: #1a1a1a; display: flex; align-items: center; gap: 0.5rem;">
                            üìö Mes R√©visions
                        </h1>
                        <p style="margin: 0.25rem 0 0; color: #6b7280; font-size: 0.9rem;">Vos notes personnelles et cours priv√©s</p>
                    </div>
                    <button style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.25rem; background: #1a1a1a; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem; font-weight: 500;">
                        + Nouveau
                    </button>
                </div>

                <!-- KPI Cards -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.25rem; color: #6b7280;">üìÑ</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">1</div>
                                <div style="color: #3b82f6; font-size: 0.85rem;">Suppl√©ments</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.25rem; color: #10b981;">üìù</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">1</div>
                                <div style="color: #10b981; font-size: 0.85rem;">Li√©s aux cours</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.25rem; color: #8b5cf6;">üéì</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">0</div>
                                <div style="color: #6b7280; font-size: 0.85rem;">Cours perso</div>
                            </div>
                        </div>
                    </div>
                    <div style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e5e7eb;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="font-size: 1.25rem; color: #f59e0b;">üìã</div>
                            <div>
                                <div style="font-size: 1.75rem; font-weight: 700; color: #1a1a1a;">2</div>
                                <div style="color: #f59e0b; font-size: 0.85rem;">Total cartes</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Onglets -->
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1.5rem; border-bottom: 1px solid #e5e7eb; padding-bottom: 0;">
                    <button style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: white; border: 1px solid #e5e7eb; border-bottom: 2px solid #3b82f6; border-radius: 8px 8px 0 0; cursor: pointer; font-size: 0.85rem; color: #3b82f6; font-weight: 500;">
                        üìö Tous (1)
                    </button>
                    <button style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: white; border: 1px solid #e5e7eb; border-bottom: none; border-radius: 8px 8px 0 0; cursor: pointer; font-size: 0.85rem; color: #6b7280;">
                        üîó Li√©s aux cours (1)
                    </button>
                    <button style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: white; border: 1px solid #e5e7eb; border-bottom: none; border-radius: 8px 8px 0 0; cursor: pointer; font-size: 0.85rem; color: #6b7280;">
                        üë§ Cours perso (0)
                    </button>
                </div>

                <!-- Cards de r√©vision -->
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
                    <!-- Card : Notes sur la photosynth√®se -->
                    <div style="background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; position: relative;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <span style="font-size: 1.25rem;">üìÑ</span>
                                <h3 style="margin: 0; font-size: 1rem; font-weight: 600; color: #1a1a1a;">notes sur la photosynth√®se</h3>
                            </div>
                            <button style="background: none; border: none; cursor: pointer; color: #6b7280; font-size: 1.25rem;">‚ãÆ</button>
                        </div>
                        
                        <div style="margin-bottom: 1rem;">
                            <span style="display: inline-flex; align-items: center; gap: 0.25rem; background: #f0fdf4; color: #16a34a; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.8rem;">
                                üîó La photosynth√®se
                            </span>
                        </div>
                        
                        <div style="display: flex; gap: 1rem; color: #6b7280; font-size: 0.85rem; margin-bottom: 0.75rem;">
                            <span>üìñ 1 chap.</span>
                            <span>üìã 2 cartes</span>
                        </div>
                        
                        <div style="color: #9ca3af; font-size: 0.8rem;">
                            üïê Modifi√© il y a 2 jours
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- MODAL : CR√âATION DE PROJET LAB -->
    <div id="create-project-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 450px; animation: slideIn 0.3s ease-out;">
            <h3 id="modal-project-title" style="margin-bottom: 15px; color: #2c3e50; display: flex; align-items: center; gap: 10px;">üß™ Nouveau Projet Lab</h3>
            <p id="modal-project-desc" style="font-size: 0.9rem; color: #666; margin-bottom: 20px;">
                Cr√©ez un espace de recherche libre pour vos dossiers et expos√©s.
            </p>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">TITRE DU PROJET</label>
                <input type="text" id="new-project-name" placeholder="Ex: Expos√© sur la R√©volution, Dossier √âcologie..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; outline: none; border-color: #9b59b6;">
            </div>

            <div style="display: flex; gap: 10px;">
                <button class="btn-primary" style="flex: 2; background: #9b59b6; border: none;" id="confirm-create-project">üöÄ Cr√©er le projet</button>
                <button class="btn-secondary" style="flex: 1;" onclick="closeCreateProjectModal()">Annuler</button>
            </div>
        </div>
    </div>

    <!-- MODAL : SAISIE G√âN√âRIQUE (Mati√®res, Th√®mes, Docs) -->
    <div id="generic-input-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 400px; animation: slideIn 0.3s ease-out;">
            <h3 id="generic-modal-title" style="margin-bottom: 15px; color: #2c3e50;">Titre</h3>
            <input type="text" id="generic-modal-input" style="width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; outline: none;">
            <div style="display: flex; justify-content: flex-end; gap: 10px;">
                <button class="btn-secondary" onclick="closeGenericModal()">Annuler</button>
                <button class="btn-primary" id="generic-modal-confirm">Valider</button>
            </div>
        </div>
    </div>

    <!-- MODAL : NOUVEL √âV√âNEMENT CALENDRIER -->
    <div id="calendar-event-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 500px; animation: slideIn 0.3s ease-out;">
            <h3 style="margin-bottom: 20px; color: #2c3e50;">üìÖ Nouvel √âv√©nement</h3>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">Titre</label>
                <input type="text" id="event-title" placeholder="Ex: R√©viser Maths" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div>
                    <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">Date d√©but</label>
                    <input type="date" id="event-start-date" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                </div>
                <div>
                    <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">Heure d√©but</label>
                    <input type="time" id="event-start-time" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div>
                    <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">Date fin</label>
                    <input type="date" id="event-end-date" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                </div>
                <div>
                    <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">Heure fin</label>
                    <input type="time" id="event-end-time" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                </div>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; font-size: 0.8rem; font-weight: bold; color: #7f8c8d; margin-bottom: 5px;">Description / Notes</label>
                <textarea id="event-desc" rows="3" placeholder="D√©tails de l'exercice ou de la r√©vision..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; resize: none;"></textarea>
            </div>

            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button id="btn-delete-event" class="btn-secondary" style="background-color: #e74c3c; color: white; border: none; display: none;" onclick="deleteCalendarEvent()">Supprimer</button>
                <button class="btn-secondary" onclick="closeCalendarModal()">Annuler</button>
                <button id="btn-save-event" class="btn-primary" onclick="saveCalendarEvent()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Script Legacy - Utilis√© temporairement car Simple Browser VS Code ne supporte pas bien les modules ES6 -->
    <script src="student.js?v=20260115b"></script>
    
    <!-- Modules ES6 Refactoris√©s (comment√©s pour compatibilit√© Simple Browser)
    <script type="module" src="js/student.refactored.js"></script>
    -->
</body>
</html>
